# StampFly Technical Specification

[English](README_en.md) | 日本語

このリポジトリは、M5Stamp Fly（StampFly）の開発を補助するための技術資料を提供します。

## 概要

M5Stamp Flyは、M5StampS3をメインコントローラーとして採用したオープンソースのプログラマブルクアッドコプターキットです。高度なセンサーフュージョンによる精密な自律飛行を実現し、教育、研究、ドローン開発に最適なプラットフォームとなっています。

## ドキュメント

### M5Stamp Fly 技術仕様書

M5Stamp Flyの全体的な技術仕様、主要コンポーネント、インターフェース、ピン配置などを詳細に解説したドキュメントです。

- [日本語版](M5StamFly_spec_ja.md)
- [English](M5StamFly_spec_en.md)

**内容:**
- 製品概要と主要機能
- 主要コンポーネント分析（M5StampS3, BMI270, BMM150, BMP280, VL53L3, PMW3901MB等）
- 詳細技術仕様（電源、モーター、センサー性能など）
- インターフェースとピンマッピング（I2C, SPI, Grove）
- 電源およびバッテリー管理
- ソフトウェアと開発リソース

---

### BMM150 磁気センサー実装ガイド

Bosch Sensortec社製 3軸磁気センサー BMM150 をマイクロコントローラと連携させるための実装手順を解説した技術ドキュメントです。

- [日本語版](bmm150_doc_ja.md)
- [English](bmm150_doc_en.md)

**内容:**
- BMM150の基本機能と仕様
- 初期化シーケンス（電源投入後の起動手順とモード遷移）
- データ読み取り方法（測定データの構造と一貫性保証）
- 効率的なデータ取得手法（割り込み、オンデマンド測定）
- 座標系の定義と磁気データの取り扱い

---

### PMW3901MB 光学モーションセンサー実装ガイド

PixArt Imaging社製 PMW3901MB-TXQT オプティカルフローセンサーをマイクロコントローラに統合するための実装手順を解説した技術ドキュメントです。

- [日本語版](pmw3901_doc_ja.md)
- [English](pmw3901_doc_en.md)

**内容:**
- PMW3901MBセンサーの概要と機能
- SPIインターフェースの確立（4線式SPI通信プロトコル）
- 初期化と設定シーケンス（電源投入からレジスタ設定まで）
- モーションデータの読み出し（標準モードとバーストモード）
- データフィルタリングとベストプラクティス

---

## 主要センサー一覧

| センサー | 型番 | 機能 | 通信方式 |
|---------|------|------|---------|
| メインコントローラー | M5StampS3 (ESP32-S3) | 飛行制御・無線通信 | - |
| 6軸姿勢センサー | BMI270 | 加速度・ジャイロスコープ | SPI |
| 3軸磁力計 | BMM150 | 地磁気検出・方位センサー | I2C |
| 気圧センサー | BMP280 | 高度測定 | I2C |
| 距離センサー | VL53L3 | ToF距離測定 | I2C |
| オプティカルフロー | PMW3901MB-TXQT | 水平変位検出 | SPI |
| 電流/電圧センサー | INA3221AIRGVR | バッテリー監視 | I2C |

## 開発リソース

- **ファームウェア**: Arduino IDE対応のソースコードおよびEasyloader
- **回路図**: 各種回路図（PDF）
- **データシート**: 主要コンポーネントの詳細仕様
- **3Dモデル**: バッテリー保護部品等のSTLファイル

詳細は [M5Stamp Fly技術仕様書](M5StamFly_spec_ja.md) の「6.0 ソフトウェアと開発リソース」セクションを参照してください。

---

## ライセンス

本ドキュメントは、M5Stamp Flyの開発とコミュニティの発展を支援するために提供されています。

## 貢献

技術仕様の改善や追加情報の提供は歓迎します。
